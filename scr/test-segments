#! /usr/bin/env python
import os
import sys

import baca

if __name__ == "__main__":
    contents_directory = baca.path.get_contents_directory(os.getcwd())
    segments_directory = contents_directory / "segments"
    first_segment_directory = segments_directory / "01"
    if not first_segment_directory.is_dir():
        print("Score contains no segments ...")
        sys.exit(0)
    for path in segments_directory.glob("[0-9]*"):
        if not path.is_dir():
            continue
        os.chdir(path)
        os.system("test-segment")
