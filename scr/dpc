realpath() {
    [[ $1 = /* ]] && echo "$1" || echo "$PWD/${1#./}"
}

paths=$(find . -name definition.py | sort)
for path in $paths; do
    echo "Checking definition ..."
    FILE=$(realpath $path)
    SECONDS=0
    python $FILE
    if [ "$?" -eq 0 ]; then
        echo $FILE ... OK
    fi
    if [ "$SECONDS" -eq 1 ]; then
        echo "Total time ${SECONDS} second ..."
    else
        echo "Total time ${SECONDS} seconds ..."
    fi
    echo
done
